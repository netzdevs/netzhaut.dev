<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.9.2"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Netzhaut | Web Browser Engine | General</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="resize.js"></script>
    <script type="text/javascript" src="navtreedata.js"></script>
    <script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="search/searchdata.js"></script>
    <script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript">
    /* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
      $(document).ready(function() { init_search(); });
    /* @license-end */
    </script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link rel="icon" href="../../logo/favicon.png">
    <link href="../../theme/custom.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>  
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
       <div style="height: 56px;">
        <div style="left:10px;top:5px;position:absolute;">
          <b>Netzhaut</b>
          <br>
          <b>Web Browser Engine</b>
        </div>
        <div style="height:56px;right:10px;top:0px;position:absolute;background-color:#151515;"><a href="https://netzwerkz.org"><img alt="netzwerkz logo" style="height:56px;" src="../../logo/netzwerkz.png"/></a></div>
        <div id="projectlogo"><img alt="netzhaut logo" src="../../logo/netzhaut.png"/></div>
       </div>
      </div>
      <div id="titlearea">
        <div class="topnav">
          <a href="../../index.html">Home</a>
          <a href="../../guides/html/index.html">Guides</a>
          <a class="active" href="../../general/html/index.html">General</a>
          <a href="../../architecture/html/index.html">Architecture</a>
          <a href="../../design/html/index.html">Design</a>
          <a href="../../internals/html/index.html">Internals</a>
          <a href="../../api/html/index.html">API</a>
        </div>
       </div>
      </div>
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__lib__nhtty__structs.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Lib_nhtty_structs</div></div>
</div><!--header-->
<div class="contents">
<p >*/ diff &ndash;git a/src/lib/nhtty/Common/Log.c b/src/lib/nhtty/Common/Log.c index cc53691..277d362 100644 &mdash; a/src/lib/nhtty/Common/Log.c +++ b/src/lib/nhtty/Common/Log.c @ -26,7 +26,7 @ NH_TTY_RESULT nh_tty_logTerminalMode( { NH_TTY_BEGIN()</p>
<ul>
<li>NH_BYTE *description_p = nh_tty_getPseudoTerminalModeDescription(mode);</li>
<li><p class="startli">NH_BYTE *description_p = nh_tty_getTTYModeDescription(mode);</p>
<p class="startli">NH_BYTE message_p[255]; sprintf(message_p, "TERM %d %s", mode, description_p ? description_p : "(no description)"); diff &ndash;git a/src/lib/nhtty/Common/Types/Private.h b/src/lib/nhtty/Common/Types/Private.h index 9542d17..0e052f0 100644 &mdash; a/src/lib/nhtty/Common/Types/Private.h +++ b/src/lib/nhtty/Common/Types/Private.h @ -10,6 +10,7 @ */</p>
<p class="startli">#include "Public.h" +#include "../../../nhmake/Common/Types/Private.h"</p>
<p class="startli">#endif</p>
</li>
</ul>
<p >diff &ndash;git a/src/lib/nhtty/Common/Types/Public.h b/src/lib/nhtty/Common/Types/Public.h index 524fb67..cc7c0a1 100644 &mdash; a/src/lib/nhtty/Common/Types/Public.h +++ b/src/lib/nhtty/Common/Types/Public.h @ -33,7 +33,7 @</p><ul>
<li>*/</li>
</ul>
<p >typedef struct nh_tty_PseudoTerminal nh_tty_PseudoTerminal;</p><ul>
<li><p class="startli">typedef struct nh_tty_TTY nh_tty_TTY; typedef struct nh_tty_Program nh_tty_Program;</p>
<p class="startli">typedef void *(*nh_tty_init_f)(); diff &ndash;git a/src/lib/nhtty/Editor/ChangesFile.c b/src/lib/nhtty/Editor/ChangesFile.c new file mode 100644 index 0000000..4c65d51 &mdash; /dev/null +++ b/src/lib/nhtty/Editor/ChangesFile.c @ -0,0 +1,340 @ +// LICENSE NOTICE ==================================================================================</p>
</li>
<li>+/**</li>
<li>* netzhaut - Web Browser Engine</li>
<li>* Copyright (C) 2020 The netzhaut Authors</li>
<li>* Published under MIT</li>
<li>*/</li>
<li>+// INCLUDE =========================================================================================</li>
<li>+#include "ChangesFile.h" +#include "Editor.h" +#include "ChangesFileInput.h" +#include "TreeListing.h" +#include "SyntaxHighlights.h"</li>
<li>+#include "../TTY/TTY.h"</li>
<li>+#include "../Common/Macros/Macros.h" +#include NH_TTY_FLOW +#include NH_TTY_DEFAULT_CHECK</li>
<li>+#include "../../nhcore/System/Process.h" +#include "../../nhcore/System/Memory.h" +#include "../../nhcore/Util/File.h" +#include "../../nhcore/Common/Macros/Macros.h" +#include NH_FLOW +#include NH_CUSTOM_CHECK</li>
<li>+#include "../../nhcss/Parser/Parser.h" +#include "../../nhhtml/Parser/Parser.h" +#include "../../nhwebidl/Runtime/Parser.h"</li>
<li>+#include "../../nhencoding/Encodings/UTF32.h" +#include "../../nhencoding/Encodings/UTF8.h" +#include "../../nhencoding/Common/Macros/Macros.h" +#include NH_ENCODING_FLOW +#include NH_ENCODING_CUSTOM_CHECK</li>
<li>+#include "../../netzhaut/nhmake.h"</li>
<li>+#include &lt;stddef.h&gt; +#include &lt;unistd.h&gt; +#include &lt;stdio.h&gt; +#include &lt;string.h&gt; +#include &lt;dirent.h&gt; +#include &lt;stdlib.h&gt;</li>
<li>+#include &lt;sys/types.h&gt; +#include &lt;sys/stat.h&gt;</li>
<li>+// LINES ===========================================================================================</li>
<li>+nh_tty_ChangesFile *nh_tty_newChangesFile(</li>
<li>nh_tty_ChangesFile *ChangesFile_p, int index) +{ +NH_TTY_BEGIN()</li>
<li>+#include NH_TTY_CUSTOM_CHECK</li>
<li></li>
<li>nh_tty_ChangesFile *New_p = nh_allocate(sizeof(nh_tty_ChangesFile));</li>
<li>NH_TTY_CHECK_MEM(NULL, New_p)</li>
<li>+// nh_make_ChangesNode *Changes_p = malloc(sizeof(nh_make_ChangesNode)); +// Changes_p-&gt;type = NH_MAKE_CHANGES_NODE_ROOT; +// Changes_p-&gt;text_p = NULL; +// Changes_p-&gt;length = 0; +// Changes_p-&gt;Children_p = NULL; +// Changes_p-&gt;children = 0; +// Changes_p-&gt;Parent_p = NULL; +// +// New_p-&gt;Changes_p = Changes_p; +// +// New_p-&gt;Copy = nh_initArray(sizeof(NH_BOOL), 128); +// New_p-&gt;Unsaved = nh_initArray(sizeof(NH_BOOL), 128); +// New_p-&gt;Search = nh_initArray(sizeof(NH_BOOL), 128); +// New_p-&gt;Codepoints = nh_encoding_initUTF32(128); +// New_p-&gt;RenderCodepoints = nh_encoding_initUTF32(128); +// NH_CHECK(NULL, nh_insertIntoList(&amp;ChangesFile_p-&gt;Lines, New_p, index))</li>
<li>+#include NH_TTY_DEFAULT_CHECK</li>
<li>+NH_TTY_END(New_p) +}</li>
<li>+//static NH_TTY_RESULT nh_tty_appendToChangesFileLine( +// nh_tty_ChangesFileLine *Line_p, NH_ENCODING_UTF32 *codepoints_p, int length) +//{ +//NH_TTY_BEGIN() +// +// NH_ENCODING_CHECK(NH_TTY_ERROR_BAD_STATE, nh_encoding_appendUTF32(&amp;Line_p-&gt;Codepoints, codepoints_p, length)) +// NH_BOOL b = NH_FALSE; +// for (int i = 0; i &lt; length; ++i) { +// nh_appendToArray(&amp;Line_p-&gt;Copy, &amp;b, 1); +// nh_appendToArray(&amp;Line_p-&gt;Unsaved, &amp;b, 1); +// nh_appendToArray(&amp;Line_p-&gt;Search, &amp;b, 1); +// } +// +//NH_TTY_END(NH_TTY_SUCCESS) +//} +// +//NH_TTY_RESULT nh_tty_insertIntoChangesFileLine( +// nh_tty_ChangesFileLine *Line_p, int index, NH_ENCODING_UTF32 c) +//{ +//NH_TTY_BEGIN() +// +// NH_ENCODING_CHECK(NH_TTY_ERROR_BAD_STATE, nh_encoding_insertUTF32(&amp;Line_p-&gt;Codepoints, index, &amp;c, 1)) +// NH_BOOL b = NH_FALSE; +// nh_insertIntoArray(&amp;Line_p-&gt;Copy, index, &amp;b, 1); +// nh_insertIntoArray(&amp;Line_p-&gt;Search, index, &amp;b, 1); +// b = NH_TRUE; +// nh_insertIntoArray(&amp;Line_p-&gt;Unsaved, index, &amp;b, 1); +// +//NH_TTY_END(NH_TTY_SUCCESS) +//} +// +//NH_TTY_RESULT nh_tty_removeFromChangesFileLine( +// nh_tty_ChangesFileLine *Line_p, int index, int length) +//{ +//NH_TTY_BEGIN() +// +// NH_CHECK(NH_TTY_ERROR_BAD_STATE, nh_encoding_removeUTF32(&amp;Line_p-&gt;Codepoints, index, length)) +// nh_removeFromArray(&amp;Line_p-&gt;Copy, index, length); +// +//NH_TTY_END(NH_TTY_SUCCESS) +//}</li>
<li>+// OPEN ============================================================================================</li>
<li>+static nh_tty_ChangesFile *nh_tty_createChangesFile() +{ +NH_TTY_BEGIN()</li>
<li>+#include NH_TTY_CUSTOM_CHECK</li>
<li></li>
<li>nh_tty_ChangesFile *ChangesFile_p = malloc(sizeof(nh_tty_ChangesFile));</li>
<li>NH_TTY_CHECK_MEM(NULL, ChangesFile_p)</li>
<li>+NH_TTY_END(ChangesFile_p) +}</li>
<li>+nh_tty_ChangesFile *nh_tty_openChangesFile(</li>
<li>nh_encoding_UTF32String *Path_p) +{ +NH_TTY_BEGIN()</li>
<li>+#include NH_TTY_CUSTOM_CHECK</li>
<li></li>
<li>nh_tty_ChangesFile *File_p = malloc(sizeof(nh_tty_ChangesFile));</li>
<li>NH_TTY_CHECK_NULL(NULL, File_p)</li>
<li></li>
<li>File_p-&gt;cursorX = 0;</li>
<li>File_p-&gt;cursorY = 0;</li>
<li>File_p-&gt;modules = 0;</li>
<li></li>
<li>nh_encoding_UTF8String Path = nh_encoding_encodeUTF8(Path_p-&gt;p, Path_p-&gt;length);</li>
<li></li>
<li>File_p-&gt;Root_p = nh_make_parseChangesFile(Path.p);</li>
<li>File_p-&gt;summary_p = nh_make_getChangesSummary(File_p-&gt;Root_p);</li>
<li>File_p-&gt;Modules_p = nh_make_getChangesModules(File_p-&gt;Root_p, &amp;File_p-&gt;modules);</li>
<li></li>
<li>nh_encoding_freeUTF8String(&amp;Path);</li>
<li>+#include NH_TTY_DEFAULT_CHECK</li>
<li>+NH_TTY_END(File_p) +}</li>
<li>+// CLOSE ===========================================================================================</li>
<li>+NH_TTY_RESULT nh_tty_closeChangesFile(</li>
<li>nh_tty_ChangesFile *ChangesFile_p) +{ +NH_TTY_BEGIN()</li>
<li>+NH_TTY_DIAGNOSTIC_END(NH_TTY_SUCCESS) +}</li>
<li>+// WRITE ===========================================================================================</li>
<li>+NH_TTY_RESULT nh_tty_writeChangesFile(</li>
<li>nh_tty_ChangesFile *File_p, nh_encoding_UTF32String *Path_p) +{ +NH_TTY_BEGIN()</li>
<li>+NH_TTY_DIAGNOSTIC_END(NH_TTY_SUCCESS) +}</li>
<li>+// DRAW ============================================================================================</li>
<li>+static int nh_tty_computeChangesNodeDepth(</li>
<li>nh_make_ChangesNode *Element_p) +{ +NH_TTY_BEGIN()</li>
<li>+// int depth = 0; +// while (Element_p-&gt;Parent_p) { +// ++depth; +// Element_p = Element_p-&gt;Parent_p; +// }</li>
<li>+NH_TTY_END(1) +}</li>
<li>+typedef enum NH_TTY_CHANGES_INSERT {</li>
<li>NH_TTY_CHANGES_INSERT_UNDEFINED,</li>
<li>NH_TTY_CHANGES_INSERT_MODULE,</li>
<li>NH_TTY_CHANGES_INSERT_AUTHOR, +} NH_TTY_CHANGES_INSERT;</li>
<li>+static NH_TTY_RESULT nh_tty_drawChangesAuthor(</li>
<li>nh_make_Author *Author_p, nh_tty_FileView *FileView_p, nh_String *String_p, int *line_p, int *width_p) +{ +NH_TTY_BEGIN()</li>
<li>+// (*line_p)&ndash;; +// +// if (!(*line_p)) { +// NH_TTY_END(NH_TTY_SUCCESS) +// } +// +// (*line_p)&ndash;; +// +// if (!(*line_p)) { +// nh_appendToString(String_p, "| name: ", 8); +// *width_p += 8; +// nh_appendToString(String_p, Author_p-&gt;name_p, strlen(Author_p-&gt;name_p)); +// *width_p += strlen(Author_p-&gt;name_p); +// NH_TTY_END(NH_TTY_SUCCESS) +// } +// +// (*line_p)&ndash;; +// +// if (!(*line_p)) { +// nh_appendToString(String_p, "| contact: ", 11); +// *width_p += 11; +// nh_appendToString(String_p, Author_p-&gt;contact_p, strlen(Author_p-&gt;contact_p)); +// *width_p += strlen(Author_p-&gt;contact_p); +// NH_TTY_END(NH_TTY_SUCCESS) +// } +// +// for (int i = 0; i &lt; Author_p-&gt;messages; ++i) { +// (*line_p)&ndash;; +// if (*line_p) {continue;} +// nh_appendToString(String_p, "| message: ", 11); +// *width_p += 11; +// nh_appendToString(String_p, Author_p-&gt;messages_pp[i], strlen(Author_p-&gt;messages_pp[i])); +// *width_p += strlen(Author_p-&gt;messages_pp[i]); +// break; +// } +// +// (*line_p)&ndash;; +// +// if (!(*line_p)) { +// nh_appendToString(String_p, "[add message]", 13); +// *width_p += 13; +// }</li>
<li>+NH_TTY_END(NH_TTY_SUCCESS) +}</li>
<li>+static NH_TTY_RESULT nh_tty_drawChangesModule(</li>
<li>nh_tty_ChangesFile *File_p, nh_tty_FileView *FileView_p, nh_String *String_p, int line, int *width_p) +{ +NH_TTY_BEGIN()</li>
<li>+// line&ndash;; +// +// for (int i = 0; i &lt; File_p-&gt;modules &amp;&amp; line &gt; 0; ++i) +// { +// nh_make_Workload *Module_p = &amp;File_p-&gt;Modules_p[i]; +// +// if (!line) { +// nh_appendToString(String_p, "---", 3); +// *width_p += 3; +// break; +// } +// +// line&ndash;; +// +// if (!line) { +// nh_appendToString(String_p, "names: ", 7); +// *width_p += 7; +// for (int j = 0; j &lt; Module_p-&gt;names; ++j) { +// nh_appendToString(String_p, Module_p-&gt;names_pp[j], strlen(Module_p-&gt;names_pp[j])); +// *width_p += strlen(Module_p-&gt;names_pp[j]); +// } +// break; +// } +// +// line&ndash;; +// +// if (!line) { +// nh_appendToString(String_p, "scope: ", 7); +// *width_p += 7; +// nh_appendToString(String_p, Module_p-&gt;scope_p, strlen(Module_p-&gt;scope_p)); +// *width_p += strlen(Module_p-&gt;scope_p); +// break; +// } +// +// for (int j = 0; j &lt; Module_p-&gt;authors; ++j) { +// nh_tty_drawChangesAuthor(Module_p-&gt;Authors_p+j, FileView_p, String_p, &amp;line, width_p); +// } +// +// line&ndash;; +// +// if (!line) { +// nh_appendToString(String_p, "[add author]", 12); +// *width_p += 12; +// break; +// } +// }</li>
<li>+NH_TTY_END(NH_TTY_SUCCESS) +}</li>
<li>+NH_TTY_RESULT nh_tty_drawChangesFileLine(</li>
<li>nh_tty_ChangesFile *File_p, nh_tty_FileView *FileView_p, nh_String *String_p, int line) +{ +NH_TTY_BEGIN()</li>
<li>+// int offsetLine = line + FileView_p-&gt;ChangesFile.rowOffset;</li>
<li>int offsetLine = line;</li>
<li>int width = 0;</li>
<li></li>
<li>if (line == 0) {</li>
<li>nh_appendToString(String_p, File_p-&gt;summary_p, strlen(File_p-&gt;summary_p));</li>
<li>width += strlen(File_p-&gt;summary_p);</li>
<li>}</li>
<li>else {</li>
<li>nh_tty_drawChangesModule(File_p, FileView_p, String_p, offsetLine, &amp;width);</li>
<li>}</li>
<li></li>
<li>for (int i = 0; i &lt; FileView_p-&gt;width - width; ++i) {</li>
<li>nh_appendToString(String_p, " ", 1);</li>
<li>}</li>
<li>+NH_TTY_DIAGNOSTIC_END(NH_TTY_SUCCESS) +}</li>
<li>diff &ndash;git a/src/lib/nhtty/Editor/ChangesFile.h b/src/lib/nhtty/Editor/ChangesFile.h new file mode 100644 index 0000000..3a22676 &mdash; /dev/null +++ b/src/lib/nhtty/Editor/ChangesFile.h @ -0,0 +1,72 @ +#ifndef NH_TTY_CHANGES_FILE_H +#define NH_TTY_CHANGES_FILE_H</li>
<li>+#ifndef DOXYGEN_SHOULD_SKIP_THIS</li>
<li>+/**</li>
<li>* netzhaut - Web Browser Engine</li>
<li>* Copyright (C) 2020 The netzhaut Authors</li>
<li>* Published under MIT</li>
<li>*/</li>
<li>+#include "FileEditor.h" +#include "SyntaxHighlights.h"</li>
<li>+#include "../Common/Types/Private.h"</li>
<li>+#endif</li>
<li>+/**</li>
<li>*</li>
<li>*/</li>
<li></li>
<li>typedef struct nh_tty_ChangesFile {</li>
<li>nh_make_ChangesNode *Root_p;</li>
<li>NH_BYTE *summary_p;</li>
<li>nh_make_Workload *Modules_p;</li>
<li>int modules;</li>
<li>int cursorX;</li>
<li>int cursorY;</li>
<li>} nh_tty_ChangesFile;</li>
<li><p class="startli">+/**</p>
<p class="startli">*/</p>
<p class="startli">/** diff &ndash;git a/src/lib/nhtty/PseudoTerminal/Console.c b/src/lib/nhtty/TTY/Console.c similarity index 95% rename from src/lib/nhtty/PseudoTerminal/Console.c rename to src/lib/nhtty/TTY/Console.c index a754fa9..6572e1d 100644 &mdash; a/src/lib/nhtty/PseudoTerminal/Console.c +++ b/src/lib/nhtty/TTY/Console.c @ -10,7 +10,7 @</p>
<p class="startli">#include "Console.h" #include "Program.h" -#include "PseudoTerminal.h" +#include "TTY.h"</p>
<p class="startli">#include "../Common/Macros/Macros.h" #include NH_TTY_FLOW @ -167,7 +167,7 @ static NH_TTY_RESULT nh_tty_handleInternalCommand( NH_TTY_BEGIN() </p><pre class="fragment">int program = nh_tty_matchPrograms(
</pre></li>
<li>&amp;nh_tty_getPseudoTerminal()-&gt;Prototypes, &amp;Console_p-&gt;Command</li>
<li><p class="startli">&amp;nh_tty_getTTY()-&gt;Prototypes, &amp;Console_p-&gt;Command );</p>
<p class="startli">if (program &gt;= 0) @ -175,9 +175,9 @ NH_TTY_BEGIN() Console_p-&gt;currentProgram = program; NH_TTY_CHECK(nh_tty_resetConsole(Console_p))</p>
</li>
<li>nh_encoding_UTF32String <em>Name_p = &amp;((nh_tty_ProgramPrototype</em>)nh_tty_getPseudoTerminal()-&gt;Prototypes.pp[program])-&gt;Name;</li>
<li>nh_encoding_UTF32String <em>Name_p = &amp;((nh_tty_ProgramPrototype</em>)nh_tty_getTTY()-&gt;Prototypes.pp[program])-&gt;Name; NH_TTY_CHECK(nh_tty_setCustomMessage(</li>
<li>&amp;nh_tty_getPseudoTerminal()-&gt;Tab_p-&gt;Tile_p-&gt;Status, NH_TTY_MESSAGE_MISC_SWITCH_PROGRAM,</li>
<li>&amp;nh_tty_getTTY()-&gt;Tab_p-&gt;Tile_p-&gt;Status, NH_TTY_MESSAGE_MISC_SWITCH_PROGRAM, Name_p-&gt;p, Name_p-&gt;length )) } @ -265,12 +265,12 @ NH_TTY_BEGIN() { case NH_TTY_ERROR_UNKNOWN_COMMAND : NH_TTY_CHECK(nh_tty_setDefaultMessage(</li>
<li>&amp;nh_tty_getPseudoTerminal()-&gt;Tab_p-&gt;Tile_p-&gt;Status, NH_TTY_MESSAGE_MISC_UNKNOWN_COMMAND</li>
<li>&amp;nh_tty_getTTY()-&gt;Tab_p-&gt;Tile_p-&gt;Status, NH_TTY_MESSAGE_MISC_UNKNOWN_COMMAND )) break; case NH_TTY_ERROR_INVALID_ARGUMENT : NH_TTY_CHECK(nh_tty_setDefaultMessage(</li>
<li>&amp;nh_tty_getPseudoTerminal()-&gt;Tab_p-&gt;Tile_p-&gt;Status, NH_TTY_MESSAGE_MISC_INVALID_ARGUMENT</li>
<li>&amp;nh_tty_getTTY()-&gt;Tab_p-&gt;Tile_p-&gt;Status, NH_TTY_MESSAGE_MISC_INVALID_ARGUMENT )) break; } @ -282,7 +282,7 @ NH_TTY_BEGIN() } else { NH_TTY_CHECK(nh_tty_setDefaultMessage(</li>
<li>&amp;nh_tty_getPseudoTerminal()-&gt;Tab_p-&gt;Tile_p-&gt;Status, NH_TTY_MESSAGE_MISC_UNKNOWN_COMMAND</li>
<li>&amp;nh_tty_getTTY()-&gt;Tab_p-&gt;Tile_p-&gt;Status, NH_TTY_MESSAGE_MISC_UNKNOWN_COMMAND )) }</li>
</ul>
<p >diff &ndash;git a/src/lib/nhtty/PseudoTerminal/Console.h b/src/lib/nhtty/TTY/Console.h similarity index 100% rename from src/lib/nhtty/PseudoTerminal/Console.h rename to src/lib/nhtty/TTY/Console.h diff &ndash;git a/src/lib/nhtty/PseudoTerminal/Draw.c b/src/lib/nhtty/TTY/Draw.c similarity index 82% rename from src/lib/nhtty/PseudoTerminal/Draw.c rename to src/lib/nhtty/TTY/Draw.c index 6f3fa49..18be96a 100644 &mdash; a/src/lib/nhtty/PseudoTerminal/Draw.c +++ b/src/lib/nhtty/TTY/Draw.c @ -97,17 +97,17 @ NH_TTY_DIAGNOSTIC_END(NH_TTY_SUCCESS) }</p>
<p >NH_TTY_RESULT nh_tty_refreshCursors(</p><ul>
<li>nh_tty_PseudoTerminal *PseudoTerminal_p)</li>
<li>nh_tty_TTY *TTY_p) { NH_TTY_BEGIN()</li>
<li>for (int i = 0; i &lt; PseudoTerminal_p-&gt;Views.size; ++i) {</li>
<li>NH_TTY_CHECK(nh_tty_setProgramViews(PseudoTerminal_p, i))</li>
<li>NH_TTY_CHECK(nh_tty_refreshCursor(PseudoTerminal_p-&gt;Tab_p, PseudoTerminal_p-&gt;Views.pp[i]))</li>
<li>for (int i = 0; i &lt; TTY_p-&gt;Views.size; ++i) {</li>
<li>NH_TTY_CHECK(nh_tty_setProgramViews(TTY_p, i))</li>
<li>NH_TTY_CHECK(nh_tty_refreshCursor(TTY_p-&gt;Tab_p, TTY_p-&gt;Views.pp[i])) }</li>
<li>NH_TTY_CHECK(nh_tty_resetProgramViews(PseudoTerminal_p))</li>
<li>PseudoTerminal_p-&gt;Tab_p-&gt;refreshCursor = NH_FALSE;</li>
<li>NH_TTY_CHECK(nh_tty_resetProgramViews(TTY_p))</li>
<li><p class="startli">TTY_p-&gt;Tab_p-&gt;refreshCursor = NH_FALSE;</p>
<p class="startli">NH_TTY_DIAGNOSTIC_END(NH_TTY_SUCCESS) } @ -127,8 +127,7 @ NH_TTY_BEGIN() nh_appendFormatToString(&amp;Data, "\x1b[H"); // move cursor to home nh_appendFormatToString(&amp;Data, "\x1b[?25l");</p>
</li>
<li>for (int row = 0; row &lt; View_p-&gt;rows; ++row) {</li>
<li>int col = 0;</li>
<li><p class="startli">for (int row = 0, col = 0; row &lt; View_p-&gt;rows; ++row, col = 0) { while (col &lt; View_p-&gt;cols) { for (int tile = 0; tile &lt; Tiles.size; ++tile) { @ -159,17 +158,17 @ NH_TTY_END(NH_TTY_SUCCESS) }</p>
<p class="startli">NH_TTY_RESULT nh_tty_refreshScreens(</p>
</li>
<li>nh_tty_PseudoTerminal *PseudoTerminal_p)</li>
<li>nh_tty_TTY *TTY_p) { NH_TTY_BEGIN()</li>
<li>for (int i = 0; i &lt; PseudoTerminal_p-&gt;Views.size; ++i) {</li>
<li>NH_TTY_CHECK(nh_tty_setProgramViews(PseudoTerminal_p, i))</li>
<li>NH_TTY_CHECK(nh_tty_refreshScreen(PseudoTerminal_p-&gt;Tab_p, PseudoTerminal_p-&gt;Views.pp[i]))</li>
<li>for (int i = 0; i &lt; TTY_p-&gt;Views.size; ++i) {</li>
<li>NH_TTY_CHECK(nh_tty_setProgramViews(TTY_p, i))</li>
<li>NH_TTY_CHECK(nh_tty_refreshScreen(TTY_p-&gt;Tab_p, TTY_p-&gt;Views.pp[i])) }</li>
<li>NH_TTY_CHECK(nh_tty_resetProgramViews(PseudoTerminal_p))</li>
<li>PseudoTerminal_p-&gt;Tab_p-&gt;refreshScreen = NH_FALSE;</li>
<li>NH_TTY_CHECK(nh_tty_resetProgramViews(TTY_p))</li>
<li><p class="startli">TTY_p-&gt;Tab_p-&gt;refreshScreen = NH_FALSE;</p>
<p class="startli">NH_TTY_DIAGNOSTIC_END(NH_TTY_SUCCESS) } diff &ndash;git a/src/lib/nhtty/PseudoTerminal/Draw.h b/src/lib/nhtty/TTY/Draw.h similarity index 74% rename from src/lib/nhtty/PseudoTerminal/Draw.h rename to src/lib/nhtty/TTY/Draw.h index 3634d4b..1bd501c 100644 &mdash; a/src/lib/nhtty/PseudoTerminal/Draw.h +++ b/src/lib/nhtty/TTY/Draw.h @ -9,7 +9,7 @</p><ul>
<li>Published under MIT */</li>
</ul>
</li>
</ul>
<p >-#include "PseudoTerminal.h" +#include "TTY.h"</p>
<p >#endif</p>
<p >@ -18,11 +18,11 @ */</p>
<p >NH_TTY_RESULT nh_tty_refreshScreens(</p><ul>
<li>nh_tty_PseudoTerminal *PseudoTerminal_p</li>
<li><p class="startli">nh_tty_TTY *TTY_p );</p>
<p class="startli">NH_TTY_RESULT nh_tty_refreshCursors(</p>
</li>
<li>nh_tty_PseudoTerminal *PseudoTerminal_p</li>
<li><p class="startli">nh_tty_TTY *TTY_p );</p>
<p class="startli">/** </p>
</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
  <!-- HTML footer for doxygen 1.8.15-->
  <!-- start footer part -->
  <div id="nav-path" class="navpath">
    <!--  -->
    <!-- <li class="footer">Generated by -->
    <!-- <a href="http://www.doxygen.org/index.html"> -->
    <!-- <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li> -->
    <div id="foot"> 
      <div style="color:#24bbc4;text-align:center;margin:auto;font-size:16px;">
        <b>
[
<!-- NH_MAKE_INSERT_STAGE_BEGIN -->
prototype.1
<!-- NH_MAKE_INSERT_STAGE_END -->
]
[
<!-- NH_MAKE_INSERT_API_VER_BEGIN -->
api.0.2.2.0
<!-- NH_MAKE_INSERT_API_VER_END -->
]
[
<!-- NH_MAKE_INSERT_ACC_VER_BEGIN -->
ver.0.8.23.10
<!-- NH_MAKE_INSERT_ACC_VER_END -->
]
          </b>
        </div>
      </div>
    </div>
  </body>
  <style>
    #foot {display: flex; padding-top:13px; padding-bottom:14px; background: #151515; border-top: 3px solid #24bbc4; justify-content: space-between;}
  </style>
</html>
